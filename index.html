<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Wildu Partner Hub</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="iconpart" type="image/png" href="icon.png">

<link rel="apple-touch-icon" href="icon.png">

<meta name="apple-mobile-web-app-title" content="Wildu Hub">

    <style>
        body, html { margin: 0; padding: 0; height: 100%; background-color: #121212; overflow: hidden; }
        
        /* La tua maschera blindata */
        .app-container {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            overflow: hidden;
            background-color: #121212;
        }

        /* L'Iframe dentro la maschera */
        iframe {
            position: absolute;
            left: 0;
            width: 100%;
            border: none;
            /* TAGLIO STANDARD (Browser) */
            top: -45px; 
            height: calc(100% + 45px);
        }

        /* FIX CHIRURGICO PER IOS SALVATO IN HOME SCREEN */
        /* Quando l'app è "Standalone", il taglio deve essere più profondo */
        @media (display-mode: standalone) {
            iframe {
                top: -65px !important; 
                height: calc(100% + 65px) !important;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <iframe src="https://script.google.com/macros/s/AKfycbwFi51ubZmKRe9krW4GnCm9NOLWRODyaTuIUWh3hf7wlBNBCNAtedXNtFGHbIZE8oQ5hQ/exec"
            sandbox="allow-forms allow-modals allow-popups allow-scripts allow-same-origin"
            allow="autoplay; clipboard-write;"
            loading="eager"></iframe>
    </div>
</body>
    
<script>
  (function() {
    var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    
    if (isIOS && !sessionStorage.getItem('ios_fix_applied')) {
      // Invece di ricaricare subito, aspettiamo che la pagina sia "pronta"
      window.addEventListener('load', function() {
        // Diamo un ulteriore mezzo secondo di tempo per far "stabilizzare" l'errore di Safari
        setTimeout(function() {
          sessionStorage.setItem('ios_fix_applied', 'true');
          window.location.reload();
        }, 500); 
      });
    }
  })();
</script>
    
</html>
